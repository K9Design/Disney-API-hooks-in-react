(this["webpackJsonplearner-materials-api-calls-and-hooks"]=this["webpackJsonplearner-materials-api-calls-and-hooks"]||[]).push([[0],{27:function(e,t,a){},29:function(e,t,a){},49:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),r=a(20),s=a.n(r),i=(a(27),a(21)),o=a(6),u=a.n(o),l=a(10),h=a(4),j=(a(29),a(0));var d=function(e){var t=e.currentPage;return Object(j.jsxs)("header",{className:"header__container",children:[Object(j.jsx)("h1",{className:"header__title",children:"The World of Disney"}),Object(j.jsxs)("p",{className:"header__page-count ",children:["Page: ",t]})]})},v=a(22),b=c.a.createContext();function f(){return Object(n.useContext)(b).favourites}function g(e){var t=e.children,a=Object(n.useState)([]),c=Object(h.a)(a,2),r=c[0],s=c[1];return Object(j.jsx)(b.Provider,{value:{favourites:r,toggleFavouriteForCharacter:function(e){if(r.includes(e)){var t=r.filter((function(t){return t!==e}));s(t)}else s([].concat(Object(v.a)(r),[e]))}},children:t})}var O=function(e){var t=e.character,a=f(),c=Object(n.useContext)(b).toggleFavouriteForCharacter,r="https://picsum.photos/300/200/?blur";return t.imageUrl&&(r=t.imageUrl.substring(0,t.imageUrl.indexOf("/revision"))),Object(j.jsxs)("article",{className:"character-item",children:[Object(j.jsx)("h2",{children:t.name}),Object(j.jsx)("div",{className:"character-item__actions",onClick:function(){return c(t._id)},children:a.includes(t._id)?"Favourited":"Add to Favourites"}),Object(j.jsx)("img",{className:"character-item__img",src:r,alt:t.name})]})};var x=function(e){var t=e.characters;return Object(j.jsx)("div",{className:"character-container",children:function(){var e=[],a=[];return t.forEach((function(t,n){a.push(Object(j.jsx)(O,{character:t},t._id)),(n+1)%5===0&&(e.push(Object(j.jsx)("div",{className:"character-row",children:a},n)),a=[])})),a.length>0&&e.push(Object(j.jsx)("div",{className:"character-row",children:a},t.length)),e}()})};var m=function(e){var t=e.currentPage,a=e.setCurrentPage,n=e.setToggleShowFavs,c=e.showFavsMode;return Object(j.jsxs)("div",{className:"navigation",children:[Object(j.jsx)("div",{className:"navigation__item",children:Object(j.jsx)("button",{className:"navigation__button",onClick:function(){t>1&&a(t-1)},children:"Prev Page"})}),Object(j.jsx)("div",{className:"navigation__item",children:Object(j.jsx)("button",{className:"navigation__button",onClick:function(){n()},children:c?"Show All":"Show Favourites"})}),Object(j.jsx)("div",{className:"navigation__item",children:Object(j.jsx)("button",{className:"navigation__button",onClick:function(){a(t+1)},children:"Next Page"})})]})},p=a(11),_=a.n(p);var N=function(){var e=Object(n.useState)([]),t=Object(h.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)(1),s=Object(h.a)(r,2),o=s[0],v=s[1],b=Object(n.useState)(!1),g=Object(h.a)(b,2),O=g[0],p=g[1],N=f();Object(n.useEffect)((function(){O?w(N):F(o)}),[o,O,N]);var F=function(){var e=Object(l.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.a.get("https://api.disneyapi.dev/characters?page=".concat(t));case 2:a=e.sent,c(a.data.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),w=function(){var e=Object(l.a)(u.a.mark((function e(t){var a,n,r,s,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=[],n=Object(i.a)(t),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=12;break}return s=r.value,e.next=8,_.a.get("https://api.disneyapi.dev/characters/"+s);case 8:o=e.sent,a.push(o.data);case 10:e.next=4;break;case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(2),n.e(e.t0);case 17:return e.prev=17,n.f(),e.finish(17);case 20:c(a);case 21:case"end":return e.stop()}}),e,null,[[2,14,17,20]])})));return function(t){return e.apply(this,arguments)}}();return Object(j.jsxs)("div",{className:"page",children:[Object(j.jsx)(d,{currentPage:o}),Object(j.jsx)(m,{currentPage:o,setCurrentPage:v,setToggleShowFavs:function(){v(1),p((function(e){return!e}))},showFavsMode:O}),Object(j.jsx)(x,{characters:a})]})},F=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,50)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,r=t.getLCP,s=t.getTTFB;a(e),n(e),c(e),r(e),s(e)}))};s.a.render(Object(j.jsx)(c.a.StrictMode,{children:Object(j.jsx)(g,{children:Object(j.jsx)(N,{})})}),document.getElementById("root")),F()}},[[49,1,2]]]);
//# sourceMappingURL=main.eafcc3c7.chunk.js.map